# TODO

- Basic items (for now just disappear when walked on)

### CSP:

- Backtracking
- Room tags -> apply CSP (random?) template
- Visualizer - success/failed tries, domain state highlighting (w/ debug symbols)

#### Variables

- Bounding box
- Margin box (ie. adjacent space considered "full")
- Multi-layer structures
- Variable structures (eg, 3 objects anywhere in bounding box, cellular?)
- Select appropriate structure from list (eg. sconce/wall deco structure that fits/aligns)

#### Constraints

- Better support for domain level constraints - eg. center alignment
- Parameters - eg. place x within min/max distance of y

#### Domain

- Formalise domain instantiation
- Irregular shape domains
- Initialize cells as full/empty/margin based on region queries/tags
- eg, shrubs considered "full" despite not blocking movement

## Soon

- Player/NPC abilities (especially w/ visual effects)
- Basic combat
- Basic inventory
- ECS debug dialog - demonstrate ECS with interface to change entity components live

### Sprites

- Same sprite entities reference single copy of sprite
- Centralised animation updates
- Per region noise based selection of wall/floor etc. variants
- Being sprite direction/facing support
- Better ledge/shadow support

### Region/Overseer

- Usability/consistency pass
- Standardise API-like query results

### ECS

- Usability/consistency pass (esp. Systems)
- Maintain consistent object reference for entities - just replace components
- Automatic mapping of template data to correct component without hardcoding (if possible)
- Basic AI module

## Someday

- Spatial indexing of entities? (ECS - automate marking cells as dirty re: render data)
- Memoize cell render data
- Exception handling
- (W)alk/autoexplore
- Unify function declaration style
- Viewport doesn't move until you are closer to the side
- Dev/Prod Configs

## Maybe

- vignette/player position effects luminance level wide
- level: voronoi map - bee hive/crystal cavern
- Add more decoration terrain/items/void decor - reeds
- Level: create walkable pt list during generate for spawning
- Patch ROT.JS to handle drawOver tiles?
- Test ROT-JS patch, submit PR
- light bleeds slightly into void?
- Switch main rendering engine (PIXI?)

# Known Bugs

- Rooms doesn't reliably connect all rooms
- Animated tiles out of sync (ie water)
- Sprites occasionally randomly disappear for a frame (?)
